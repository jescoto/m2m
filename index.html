<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>M2M App</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
    <link href="css/main.css" rel="stylesheet">
    <link href="css/font-awesome.css" rel="stylesheet">
    <link href="css/jquery.sidr.dark.css" rel="stylesheet">
    <!-- <link href="css/elementTransitions.css" rel="stylesheet"> -->
	<link href="css/newRolles.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <script src="http://maps.google.com/maps/api/js?sensor=true&libraries=places"></script>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	    
  <body>
    <!-- Modals -->

<!-- Modal -->
      <div class="modal fade" id="lineModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Title</h4>
            </div>
            <div class="modal-body">
              <div class="form-group">
                <label>Select your line:</label>  <i class="fa fa-spinner fa-spin hiden"></i>
                <select class="form-control" id="lines-sel">

                </select>
              </div>
              <div class="form-group">
                <label>Select the direction:</label> <i class="fa fa-spinner fa-spin hiden"></i>
                <select class="form-control" id="lines-way" disabled>
                  
                </select>
              </div>
              <div class="form-group">
                <label>Select bus stop:</label>  <i class="fa fa-spinner fa-spin hiden"></i>
                <select class="form-control" id="lines-stop" disabled>
                
                </select>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-warning btn-block" id="run-btn" disabled="disabled">Update</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="emailModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Contact Us</h4>
            </div>
            <div class="modal-body">
              <div class="form-group">
                <label>Name</label>
                <input class="form-control" type="text" id="user-name" placeholder="John Smith">
              </div>
              <div class="form-group">
                <label>Email Address</label>
                <input class="form-control" type="email" id="user-email" placeholder="john@example.com">
              </div>
              <div class="form-group">
                <label>Message</label>
                <textarea name="textarea" rows="10" class="form-control" placeholder="Write something here..."></textarea>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-success btn-block" id="send-btn">Send</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="mapModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Bus Map</h4>
            </div>
            <div class="modal-body map-box">
              <div id="bus-map">
              </div>
            </div>
            <div class="modal-footer">
            </div>
          </div>
        </div>
      </div>
    <!-- end modals -->


    <nav class="navbar navbar-custom" role="navigation">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <div class="navbar-left nav-menu pull-left">
            <a class="navbar-link" id="side-nav" href="javascript:toggleMenu()"><i class="fa fa-bars"></i></a>
          </div>
          <a class="navbar-brand" href="#"><img src="img/logo.png" width="120px"></a>
          <div class="navbar-right nav-menu pull-right" id="top-right">
            <a class="navbar-link" id="load-sel" href="#" data-toggle="modal" data-target="#lineModal"><i class="fa fa-ellipsis-v"></i></a>
          </div>
        </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
  </div><!-- /.container-fluid -->
  
</nav>


<div id="sidr" class="nav-side sidr left">
  <p>Menu</p>
  <ul class="nav-text">
    <li><span><a href="#" onclick="pageShow('.page:nth-child(1)')">Lista</a></span></li>
    <li><span><a href="#" onclick="pageShow('.page:nth-child(2)')">Bus Map</a></span></li>
    <li><span><a href="#" onclick="pageShow('.page:nth-child(3)')">iFrame</a></span></li>
    <li><span><a href="#" data-toggle="modal" data-target="#emailModal">Contact Us</a></span></li>
  </ul>
</div>

<div class="line-title">

</div>

<div class="row-in" id="content">

	<div class="transition-container">
		<div id="scroller">
			<div class="page show-page" id="container-list">			
				<!--<div class="col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3" id="bus-list">-->
				
        <div class="" id="bus-list"></div>
			</div>
        
			<div class="page  show-page hide-page">
				<div id="mapView" class="col-xs-12">
				</div>
			</div>
			
			<div class="page  show-page hide-page">
				<div id="frame">
					<div class="col-xs-12" style="height: 100%;">
						<iframe src="frame.html" style="border: 0; width: 100%; height: 100%; top: 0px;"></iframe>
					</div>
				</div>
			</div>
		</div>
	</div>  
</div>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
 
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <!-- <script src="js/jquery.sidr.min.js"></script> -->
	<script src="js/store.js"></script>
	<script src="js/map.js"></script>
    <script src="js/geocoder.js"></script>
    <script src="js/main.js"></script>
    <!-- <script src="js/elementTransitions.js"></script> -->
	<script src="js/iscroll.js"></script>
	<script src="js/markerwithlabel.js"></script>
    <script>
	
	if (!Function.prototype.bind) {
            Function.prototype.bind = function (oThis) {
                if (typeof this !== "function") {
                    // closest thing possible to the ECMAScript 5 internal IsCallable function
                    throw new TypeError ("Function.prototype.bind - what is trying to be bound is not callable");
                }

                var aArgs = Array.prototype.slice.call (arguments, 1),
                        fToBind = this,
                        fNOP = function () {
                        },
                        fBound = function () {
                            return fToBind.apply (this instanceof fNOP && oThis
                                    ? this
                                    : oThis,
                                    aArgs.concat (Array.prototype.slice.call (arguments)));
                        };

                fNOP.prototype = this.prototype;
                fBound.prototype = new fNOP ();

                return fBound;
            };
        }
		
		
	
    $(document).ready(function() {
      //$('#side-nav').sidr();
      $(".update").toggle("hide");
		window.myScroll = new IScroll('#scroller', {
			mouseWheel: true,
			//scrollbars: true
    }	);
		window.contactScroll = new IScroll('#emailModal');
		$('#emailModal').on('shown.bs.modal', function(){
			contactScroll.refresh();
		});
		
		
		setTimeout(function() { firstLoad(); }, 1000);
		/*	
		var pages = $('.page');
		var totalPages = pages.length;
		
		pages.each(function(count){
			transition.bind(this, count*100, 0 , 0)();
		});
		*/
		$('#mapView').height(document.body.offsetHeight - 140);
		$('#frame').height(document.body.offsetHeight - 140);
		
    });
    </script>
  </body>
</html>